<div class="visitor-container">
  <!-- Header -->
  <div class="page-header">
    <button class="back-btn" (click)="goBack()" aria-label="Go back to menu">
      ← {{ 'common.back' | translate }}
    </button>
    <h1>{{ 'visitor.cocktailList.title' | translate }}</h1>
  </div>

  <!-- Search Bar -->
  <div class="search-section">
    <div class="search-box">
      <input
        type="text"
        [(ngModel)]="searchTerm"
        (input)="onSearch()"
        [placeholder]="'visitor.cocktailList.searchPlaceholder' | translate"
        class="search-input"
        aria-label="Search cocktails"
      />
      <button
        *ngIf="searchTerm"
        (click)="clearSearch()"
        class="clear-btn"
        aria-label="Clear search"
      >
        ✕
      </button>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading">
    <p>{{ 'visitor.cocktailList.loading' | translate }}</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="error-message">
    <p>{{ error }}</p>
    <button (click)="loadCocktails()" class="retry-btn">{{ 'common.retry' | translate }}</button>
  </div>

  <!-- Results Info -->
  <div *ngIf="!loading && !error" class="results-info">
    <p>
      {{ 'visitor.cocktailList.showing' | translate }} <strong>{{ filteredCocktails.length }}</strong> {{ 'visitor.cocktailList.of' | translate }} <strong>{{ cocktails.length }}</strong> {{ 'visitor.cocktailList.availableCocktails' | translate }}
    </p>
  </div>

  <!-- Cocktails List - Card Layout for Mobile -->
  <div *ngIf="!loading && !error" class="cocktails-grid">
    <div *ngFor="let cocktail of filteredCocktails" class="cocktail-card">
      <div class="cocktail-header">
        <h3 class="cocktail-name">{{ cocktail.name }}</h3>
        <span class="alcohol-badge" [ngClass]="getAlcoholClass(cocktail.abv)">
          {{ getAlcoholType(cocktail.abv) }}
        </span>
      </div>
      
      <div class="cocktail-info">
        <div class="info-row">
          <span class="label">{{ 'visitor.cocktailList.baseSpirit' | translate }}</span>
          <span class="value">{{ cocktail.baseSpirit }}</span>
        </div>
        <div class="info-row">
          <span class="label">{{ 'visitor.cocktailList.abv' | translate }}</span>
          <span class="value">{{ cocktail.abv }}%</span>
        </div>
        <div *ngIf="cocktail.tags && cocktail.tags.length > 0" class="tags-section">
          <span class="tag" *ngFor="let tag of cocktail.tags">{{ tag }}</span>
        </div>
      </div>

      <button
        (click)="viewRecipe(cocktail.id)"
        class="view-recipe-btn"
        aria-label="View recipe for {{ cocktail.name }}"
      >
        {{ 'visitor.cocktailList.viewRecipe' | translate }}
      </button>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && !error && filteredCocktails.length === 0 && cocktails.length > 0" class="empty-state">
    <p>{{ 'visitor.cocktailList.noMatch' | translate }}</p>
    <button (click)="clearSearch()" class="clear-search-btn">{{ 'visitor.cocktailList.clearSearch' | translate }}</button>
  </div>

  <div *ngIf="!loading && !error && cocktails.length === 0" class="empty-state">
    <p>{{ 'visitor.cocktailList.noCocktails' | translate }}</p>
    <p class="hint">{{ 'visitor.cocktailList.comeBackLater' | translate }}</p>
  </div>
</div>
