<div class="visitor-container">
  <!-- Header -->
  <div class="page-header">
    <button class="back-btn" (click)="goBack()" aria-label="Go back to menu">
      ← Back
    </button>
    <h1>Available Cocktails</h1>
  </div>

  <!-- Search Bar -->
  <div class="search-section">
    <div class="search-box">
      <input
        type="text"
        [(ngModel)]="searchTerm"
        (input)="onSearch()"
        placeholder="Search by name, spirit, or tag..."
        class="search-input"
        aria-label="Search cocktails"
      />
      <button
        *ngIf="searchTerm"
        (click)="clearSearch()"
        class="clear-btn"
        aria-label="Clear search"
      >
        ✕
      </button>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading">
    <p>Loading cocktails...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="error-message">
    <p>{{ error }}</p>
    <button (click)="loadCocktails()" class="retry-btn">Retry</button>
  </div>

  <!-- Results Info -->
  <div *ngIf="!loading && !error" class="results-info">
    <p>
      Showing <strong>{{ filteredCocktails.length }}</strong> of <strong>{{ cocktails.length }}</strong> available cocktails
    </p>
  </div>

  <!-- Cocktails List - Card Layout for Mobile -->
  <div *ngIf="!loading && !error" class="cocktails-grid">
    <div *ngFor="let cocktail of filteredCocktails" class="cocktail-card">
      <div class="cocktail-header">
        <h3 class="cocktail-name">{{ cocktail.name }}</h3>
        <span class="alcohol-badge" [ngClass]="getAlcoholClass(cocktail.abv)">
          {{ getAlcoholType(cocktail.abv) }}
        </span>
      </div>
      
      <div class="cocktail-info">
        <div class="info-row">
          <span class="label">Base Spirit:</span>
          <span class="value">{{ cocktail.baseSpirit }}</span>
        </div>
        <div class="info-row">
          <span class="label">ABV:</span>
          <span class="value">{{ cocktail.abv }}%</span>
        </div>
        <div *ngIf="cocktail.tags && cocktail.tags.length > 0" class="tags-section">
          <span class="tag" *ngFor="let tag of cocktail.tags">{{ tag }}</span>
        </div>
      </div>

      <button
        (click)="viewRecipe(cocktail.id)"
        class="view-recipe-btn"
        aria-label="View recipe for {{ cocktail.name }}"
      >
        View Recipe →
      </button>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && !error && filteredCocktails.length === 0 && cocktails.length > 0" class="empty-state">
    <p>No cocktails match your search.</p>
    <button (click)="clearSearch()" class="clear-search-btn">Clear Search</button>
  </div>

  <div *ngIf="!loading && !error && cocktails.length === 0" class="empty-state">
    <p>No cocktails are currently available.</p>
    <p class="hint">Come back later when we have ingredients in stock!</p>
  </div>
</div>
